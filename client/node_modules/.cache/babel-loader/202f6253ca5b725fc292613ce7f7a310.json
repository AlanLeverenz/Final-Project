{"ast":null,"code":"import _defineProperty from \"/Users/alanleverenz/development/Sentiment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/alanleverenz/development/Sentiment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alanleverenz/development/Sentiment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alanleverenz/development/Sentiment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alanleverenz/development/Sentiment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alanleverenz/development/Sentiment/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/alanleverenz/development/Sentiment/client/src/pages/Search.js\";\nimport React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport Article from \"../components/Article\";\nimport API from \"../utils/API\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List } from \"../components/List\"; // Home page\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.getColor = function () {\n      var color;\n\n      switch (type) {\n        case \"positive\":\n          \"backgroundImage: linear-gradient(green, white)\";\n          break;\n\n        case \"neutral\":\n          \"backgroundImage: linear-gradient(blue, white)\";\n          break;\n\n        case \"negative\":\n          \"backgroundImage: linear-gradient(red, white)\";\n          break;\n\n        default:\n          \"backgroundImage: linear-gradient(blue, white)\";\n      }\n\n      return color;\n    };\n\n    _this.handleInputChange = function (event) {\n      var name = event.target.name;\n      var value = event.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.searchNews = function () {\n      console.log(_this.state.search);\n      API.searchNews(_this.state.search).then(function (res) {\n        return (// console.log(res.data)\n          _this.setState({\n            articles: res.data\n          })\n        );\n      }).catch(function () {\n        return _this.setState({\n          articles: [],\n          message: \"No Articles Found. Try a Different Search\"\n        });\n      });\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.searchNews();\n    };\n\n    _this.handleArticleSave = function (id) {\n      var article = _this.state.articles.find(function (article) {\n        return article.id === id;\n      });\n\n      API.saveArticle({\n        // id: article.id,\n        key: article.key,\n        query: article.query,\n        source: article.source.name,\n        author: article.author,\n        title: article.title,\n        description: article.description,\n        url: article.url,\n        publishedAt: article.publishedAt,\n        content: article.content,\n        type: article.type,\n        score: article.score,\n        ratio: article.ratio,\n        keywords: [{\n          word: article.keywords.word\n        }, {\n          score: article.keywords.score\n        }]\n      }).then(function () {\n        return _this.getSavedArticles();\n      }); // }).then(() => console.log(article.json));\n    };\n\n    _this.state = {\n      search: \"\",\n      articles: [],\n      message: \"\",\n      color: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"NewsIt\")), React.createElement(SearchForm, {\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        search: this.state.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: \"Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.state.articles.length ? React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.state.articles.map(function (article, index) {\n        return React.createElement(Article, {\n          key: index,\n          source: article.source.name,\n          author: article.author,\n          title: article.title,\n          description: article.description,\n          url: article.url,\n          publishedAt: article.publishedAt,\n          content: article.content,\n          type: article.type,\n          score: article.score,\n          ratio: article.ratio,\n          Button: function Button() {\n            return React.createElement(\"button\", {\n              onClick: function onClick() {\n                return _this2.handleArticleSave(article.id);\n              },\n              className: \"btn btn-primary ml-2\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 136\n              },\n              __self: this\n            }, \"Save\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        });\n      })) : React.createElement(\"h2\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, this.state.message)))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/alanleverenz/development/Sentiment/client/src/pages/Search.js"],"names":["React","Component","Jumbotron","Card","SearchForm","Article","API","Col","Row","Container","List","Search","props","getColor","color","type","handleInputChange","event","name","target","value","setState","searchNews","console","log","state","search","then","res","articles","data","catch","message","handleFormSubmit","preventDefault","handleArticleSave","id","article","find","saveArticle","key","query","source","author","title","description","url","publishedAt","content","score","ratio","keywords","word","getSavedArticles","length","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport Article from \"../components/Article\";\nimport API from \"../utils/API\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List } from \"../components/List\";\n\n// Home page\nclass Search extends Component {\n\n  constructor(props) {\n  super(props)\n  \n    this.state = {\n      search: \"\",\n      articles: [],\n      message: \"\",\n      color: \"\",\n    };\n  }\n\n  getColor = () => {\n    let color;\n    switch(type) {\n      case \"positive\":\n        \"backgroundImage: linear-gradient(green, white)\"\n        break;\n      case \"neutral\":\n        \"backgroundImage: linear-gradient(blue, white)\"\n        break;\n      case \"negative\":\n        \"backgroundImage: linear-gradient(red, white)\"\n        break;\n      default:\n        \"backgroundImage: linear-gradient(blue, white)\"\n      }\n    return color\n  }\n\n  handleInputChange = event => {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  searchNews = () => {\n    console.log(this.state.search);\n    API.searchNews(this.state.search)\n    .then(res =>\n      // console.log(res.data)\n      this.setState({\n        articles: res.data\n      })\n    )\n    .catch(() =>\n      this.setState({\n        articles: [],\n        message: \"No Articles Found. Try a Different Search\"\n      })\n    );\n  };\n\n\n  // When the form is submitted, search the NewsAPI for `this.state.search`\n  handleFormSubmit = event => {\n    event.preventDefault();\n    this.searchNews();\n  };\n\n  // eventually need to insert into a Users collection Article array\n  handleArticleSave = id => {\n    const article = this.state.articles.find(article => article.id === id);\n\n    API.saveArticle({\n      // id: article.id,\n      key: article.key,\n      query: article.query,\n      source: article.source.name,\n      author: article.author,\n      title: article.title,\n      description: article.description,\n      url: article.url,\n      publishedAt: article.publishedAt,\n      content: article.content,\n      type: article.type,\n      score: article.score,\n      ratio: article.ratio,\n      keywords: [ { word: article.keywords.word}, \n        { score: article.keywords.score }\n      ],\n    }).then(() => this.getSavedArticles());\n    // }).then(() => console.log(article.json));\n  };\n\n\n  render() {\n    return (\n      <Container>\n        <Row>\n          <Col size=\"md-12\">\n            <Jumbotron>\n              <h1 className=\"text-center\">\n                <strong>NewsIt</strong>\n              </h1>\n              <SearchForm\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n                search={this.state.search}\n              />\n            </Jumbotron>\n          </Col>         \n        </Row>\n        <Row>\n          <Col size=\"md-12\">\n            <Card title=\"Results\">\n              {this.state.articles.length ? (\n                <List>\n                  {this.state.articles.map((article, index) => (\n                    <Article\n                      key={index}\n                      source={article.source.name}\n                      author={article.author}\n                      title={article.title}\n                      description={article.description}\n                      url={article.url}\n                      publishedAt={article.publishedAt}\n                      content={article.content}\n                      type={article.type}\n                      score={article.score}\n                      ratio={article.ratio}\n                      Button={() => (\n                        <button\n                          onClick={() => this.handleArticleSave(article.id)}\n                          className=\"btn btn-primary ml-2\"\n                        >\n                          Save\n                        </button>\n                      )}\n                    />\n                  ))}\n                </List>\n              ) : (\n                <h2 className=\"text-center\">{this.state.message}</h2>\n              )}\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}