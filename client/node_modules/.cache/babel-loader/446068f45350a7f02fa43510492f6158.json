{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\John\\\\Development\\\\Sentiment\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\John\\\\Development\\\\Sentiment\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\John\\\\Development\\\\Sentiment\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\John\\\\Development\\\\Sentiment\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\John\\\\Development\\\\Sentiment\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\John\\\\Development\\\\Sentiment\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\John\\\\Development\\\\Sentiment\\\\client\\\\src\\\\pages\\\\Search.js\";\nimport React, { Component } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport Card from \"../components/Card\";\nimport SearchForm from \"../components/SearchForm\";\nimport ArticleCard from \"../components/ArticleCard\";\nimport ArticlePanel from \"../components/ArticlePanel\";\nimport API from \"../utils/API\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List } from \"../components/List\"; // const uuidv4 = require('uuid/v4');\n// Home page\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.handleInputChange = function (event) {\n      var name = event.target.name;\n      var value = event.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.searchNews = function () {\n      // console.log(this.state.search);\n      API.searchNews(_this.state.search).then(function (res) {\n        console.log(res.data);\n\n        _this.setState({\n          articles: res.data\n        });\n      }).catch(function () {\n        return _this.setState({\n          articles: [],\n          message: \"No Articles Found. Try a Different Search\"\n        });\n      });\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      _this.searchNews();\n    };\n\n    _this.handleArticleSave = function (id) {\n      var article = _this.state.articles.find(function (article) {\n        return article.id === id;\n      });\n\n      console.log(id);\n      API.saveArticle({\n        id: article.id,\n        key: article.id,\n        query: _this.state.search,\n        author: article.author,\n        source: article.source.name,\n        title: article.title,\n        description: article.description,\n        url: article.url,\n        urlToImage: article.urlToImage,\n        publishedAt: article.publishedAt,\n        content: article.content,\n        type: article.label,\n        score: article.score\n      }).then(function () {\n        return console.log(\"handleSaveArticle complete\");\n      });\n    };\n\n    _this.state = {\n      search: \"\",\n      articles: [],\n      message: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"row\", {\n        className: \"jumbo-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center jumbo-text\",\n        style: {\n          fontFamily: \"Libre Baskerville, serif\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"News Polarizer\"), React.createElement(\"h5\", {\n        className: \"text-center jumbo-text\",\n        style: {\n          fontFamily: \"Libre Baskerville, serif, regular\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Search the full spectrum of spin on any news headline.\")), React.createElement(SearchForm, {\n        handleInputChange: this.handleInputChange,\n        handleFormSubmit: this.handleFormSubmit,\n        search: this.state.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: \"Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, this.state.articles.length ? React.createElement(ArticlePanel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.articles.map(function (article) {\n        return React.createElement(ArticleCard, {\n          key: article.id,\n          id: article.id,\n          source: article.source.name,\n          author: article.author,\n          title: article.title,\n          description: article.description,\n          url: article.url,\n          urlToImage: article.urlToImage,\n          publishedAt: article.publishedAt,\n          content: article.content,\n          keywords: article.keywords,\n          type: article.label,\n          score: article.score,\n          ratio: article.ratio,\n          Button: function Button() {\n            return React.createElement(\"button\", {\n              onClick: function onClick() {\n                return _this2.handleArticleSave(article.id);\n              },\n              className: \"btn btn-primary ml-2\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 124\n              },\n              __self: this\n            }, \"Save\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        });\n      })) : React.createElement(\"h2\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, this.state.message)))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/John/Development/Sentiment/client/src/pages/Search.js"],"names":["React","Component","Jumbotron","Card","SearchForm","ArticleCard","ArticlePanel","API","Col","Row","Container","List","Search","props","handleInputChange","event","name","target","value","setState","searchNews","state","search","then","res","console","log","data","articles","catch","message","handleFormSubmit","preventDefault","handleArticleSave","id","article","find","saveArticle","key","query","author","source","title","description","url","urlToImage","publishedAt","content","type","label","score","fontFamily","length","map","keywords","ratio"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\nimport Card from \"../components/Card\";\r\nimport SearchForm from \"../components/SearchForm\";\r\nimport ArticleCard from \"../components/ArticleCard\";\r\nimport ArticlePanel from \"../components/ArticlePanel\"\r\nimport API from \"../utils/API\";\r\nimport { Col, Row, Container } from \"../components/Grid\";\r\nimport { List } from \"../components/List\";\r\n\r\n// const uuidv4 = require('uuid/v4');\r\n\r\n// Home page\r\nclass Search extends Component {\r\n\r\n  constructor(props) {\r\n  super(props)\r\n  \r\n    this.state = {\r\n      search: \"\",\r\n      articles: [],\r\n      message: \"\"\r\n    };\r\n  }\r\n\r\n  handleInputChange = event => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  searchNews = () => {\r\n    // console.log(this.state.search);\r\n    API.searchNews(this.state.search)\r\n    .then(res =>{\r\n      console.log(res.data)\r\n      this.setState({\r\n        articles: res.data\r\n      })}\r\n    )\r\n    .catch(() =>\r\n      this.setState({\r\n        articles: [],\r\n        message: \"No Articles Found. Try a Different Search\"\r\n      })\r\n    );\r\n  };\r\n\r\n  // When the form is submitted, search the NewsAPI for `this.state.search`\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    this.searchNews();\r\n  };\r\n\r\n  // eventually need to insert into a Users collection Article array\r\n  // using uuid to set the id since there is no id returned from the search\r\n  handleArticleSave = id => {\r\n    const article = this.state.articles.find(article => article.id === id);\r\n    console.log(id)\r\n    API.saveArticle({\r\n      id: article.id,\r\n      key: article.id,\r\n      query: this.state.search,\r\n      author: article.author,\r\n      source: article.source.name,\r\n      title: article.title,\r\n      description: article.description,\r\n      url: article.url,\r\n      urlToImage: article.urlToImage,\r\n      publishedAt: article.publishedAt,\r\n      content: article.content,\r\n      type: article.label,\r\n      score: article.score,\r\n    }).then(() => console.log(\"handleSaveArticle complete\"));\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Row>\r\n          <Col size=\"md-12\">\r\n            <Jumbotron>\r\n              <row className=\"jumbo-text\">\r\n              <h1 className=\"text-center jumbo-text\" style={{fontFamily: \"Libre Baskerville, serif\"}}>\r\n               News Polarizer\r\n                </h1>\r\n                <h5 className=\"text-center jumbo-text\" style={{fontFamily: \"Libre Baskerville, serif, regular\"}}>Search the full spectrum of spin on any news headline.\r\n                </h5>\r\n              </row>\r\n  \r\n              <SearchForm\r\n                handleInputChange={this.handleInputChange}\r\n                handleFormSubmit={this.handleFormSubmit}\r\n                search={this.state.search}\r\n              />\r\n              \r\n            </Jumbotron>\r\n          </Col>         \r\n        </Row>\r\n        <Row>\r\n          <Col size=\"md-12\">\r\n            <Card title=\"Results\">\r\n              {this.state.articles.length ? (\r\n                <ArticlePanel>\r\n                  {this.state.articles.map((article) => (\r\n                    <ArticleCard\r\n                      key={article.id}\r\n                      id={article.id}\r\n                      source={article.source.name}\r\n                      author={article.author}\r\n                      title={article.title}\r\n                      description={article.description}\r\n                      url={article.url}\r\n                      urlToImage={article.urlToImage}\r\n                      publishedAt={article.publishedAt}\r\n                      content={article.content}\r\n                      keywords={article.keywords}\r\n                      type={article.label}\r\n                      score={article.score}\r\n                      ratio={article.ratio}\r\n                      Button={() => (\r\n                        <button\r\n                          onClick={() => this.handleArticleSave(article.id)}\r\n                          className=\"btn btn-primary ml-2\"\r\n                        >\r\n                          Save\r\n                        </button>\r\n                      )}\r\n                    />\r\n                  ))}\r\n                </ArticlePanel>\r\n              ) : (\r\n                <h2 className=\"text-center\">{this.state.message}</h2>\r\n              )}\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}